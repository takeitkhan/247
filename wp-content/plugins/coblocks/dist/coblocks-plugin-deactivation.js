(()=>{var e,t={1605:(e,t,a)=>{"use strict";const o=window.React,n=window.wp.domReady;var c=a.n(n);const r=window.wp.element;var i=a(5556),s=a.n(i);const l=window.wp.dom,d=window.wp.components,m=({feedbackData:e,formData:t,onCheckboxChange:a,closeModal:n,onTextChange:c,onAction:r})=>(0,o.createElement)(d.Modal,{className:"common-deactivate-modal",onRequestClose:n,title:e.labels.title},(0,o.createElement)("div",{className:"common-deactivate-modal__checkbox"},e.choices.map((e=>{const n=t.choices.indexOf(e.slug)>=0;return(0,o.createElement)("div",{className:"common-deactivate-modal__choice","data-testid":"deactivate-modal__choice",key:e.slug},(0,o.createElement)(d.CheckboxControl,{checked:n,label:e.label,onChange:t=>a(t,e.slug)}),!!e.text_field&&(0,o.createElement)(d.TextControl,{className:"common-deactivate-modal__text "+(n?"show":""),onChange:t=>c(e.text_field,t),value:t[e.text_field]}))}))),(0,o.createElement)(d.ButtonGroup,null,(0,o.createElement)(d.Button,{className:"common-deactivate-modal__button","data-testid":"common-deactivate-modal__button",onClick:()=>r(!0),variant:"primary"},e.labels.submit_deactivate),(0,o.createElement)(d.Button,{className:"common-deactivate-modal__button","data-testid":"common-deactivate-modal__button",onClick:()=>r(!1),variant:"link"},e.labels.skip_deactivate)),(0,o.createElement)("footer",{className:"common-deactivate-modal__footer"},(0,o.createElement)("div",{dangerouslySetInnerHTML:{__html:(0,l.safeHTML)(e.labels.privacy_disclaimer)}}))),u=document.documentElement.getAttribute("lang")||"en-US",p=({apiUrl:e,getParams:t,isEvent:a,pageData:n})=>{const[c,i]=(0,r.useState)(null),[s,l]=(0,r.useState)(!1),[d,p]=(0,r.useState)(null),[h,v]=(0,r.useState)({});(0,r.useEffect)((()=>((async()=>{const a=await(async(e,t=null)=>{const a={...t,random:1,language:u},o=new URLSearchParams(a).toString();try{const t=await fetch(`${e}?${o}`);return t.ok?await t.json():null}catch(e){return null}})(e,t);a&&a.can_submit_feedback&&(window.addEventListener("click",b),f(a))})(),()=>{window.removeEventListener("click",b)})),[]);const f=e=>{p(e);const t={};e.choices.forEach((e=>{e.text_field&&(t[e.text_field]="")})),v({choices:[],coblocks_version:n.coblocksVersion,domain:n.domain,hostname:n.hostname,language:u,persona:n.wpOptions?.persona,skill:n.wpOptions?.skill,wp_version:n.wpVersion,...t})},b=(0,r.useCallback)((e=>{a(e)&&(e.preventDefault(),l(!0),i(e.target.href))}));return s&&d?(0,o.createElement)(m,{closeModal:()=>l(!1),feedbackData:d,formData:h,onAction:async(t=!1)=>{t&&h.choices.length>=d.choices_min&&await fetch(e,{method:"POST",body:JSON.stringify(h),headers:{"Content-Type":"application/json"}}),l(!1),window.location.href=c},onCheckboxChange:(e,t)=>{v((a=>{const o=a.choices;return e?o.push(t):o.splice(o.indexOf(t),1),{...a,choices:o}}))},onTextChange:(e,t)=>{v((a=>({...a,[e]:t})))}}):null};p.propTypes={apiUrl:s().string.isRequired,getParams:s().object,isEvent:s().func.isRequired,pageData:s().object.isRequired};const h=()=>{const e=coblocksDeactivateData.domain;if(!coblocksDeactivateData||!e)return null;const t={domain:e};return(0,o.createElement)(p,{apiUrl:"https://wpnux.godaddy.com/v3/api/feedback/coblocks-optout",getParams:t,isEvent:e=>"deactivate-coblocks"===e.target.id,pageData:coblocksDeactivateData})};c()((function(){(0,r.render)((0,o.createElement)(h,null),document.getElementById(coblocksDeactivateData.containerClass))}))},2694:(e,t,a)=>{"use strict";var o=a(6925);function n(){}function c(){}c.resetWarningCache=n,e.exports=function(){function e(e,t,a,n,c,r){if(r!==o){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:c,resetWarningCache:n};return a.PropTypes=a,a}},5556:(e,t,a)=>{e.exports=a(2694)()},6925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},a={};function o(e){var n=a[e];if(void 0!==n)return n.exports;var c=a[e]={exports:{}};return t[e](c,c.exports,o),c.exports}o.m=t,e=[],o.O=(t,a,n,c)=>{if(!a){var r=1/0;for(d=0;d<e.length;d++){for(var[a,n,c]=e[d],i=!0,s=0;s<a.length;s++)(!1&c||r>=c)&&Object.keys(o.O).every((e=>o.O[e](a[s])))?a.splice(s--,1):(i=!1,c<r&&(r=c));if(i){e.splice(d--,1);var l=n();void 0!==l&&(t=l)}}return t}c=c||0;for(var d=e.length;d>0&&e[d-1][2]>c;d--)e[d]=e[d-1];e[d]=[a,n,c]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={27:0,506:0};o.O.j=t=>0===e[t];var t=(t,a)=>{var n,c,[r,i,s]=a,l=0;if(r.some((t=>0!==e[t]))){for(n in i)o.o(i,n)&&(o.m[n]=i[n]);if(s)var d=s(o)}for(t&&t(a);l<r.length;l++)c=r[l],o.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return o.O(d)},a=globalThis.webpackChunkcoblocks=globalThis.webpackChunkcoblocks||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var n=o.O(void 0,[506],(()=>o(1605)));n=o.O(n)})();